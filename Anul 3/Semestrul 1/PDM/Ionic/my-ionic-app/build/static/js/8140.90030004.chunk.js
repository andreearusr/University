/*! For license information please see 8140.90030004.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmyApp=self.webpackChunkmyApp||[]).push([[8140],{8140:function(e,t,r){r.r(t),r.d(t,{CapacitorGoogleMapsWeb:function(){return X}});var n=r(4165),i=r(5861),o=r(7762),a=r(5671),s=r(3144),u=r(136),c=r(7277),l=r(6653),p=r(885),h=r(2982),d=r(8262),f=r.n(d);function m(e,t,r,n,i,o){if(!(i-n<=r)){var a=n+i>>1;v(e,t,a,n,i,o%2),m(e,t,r,n,a-1,o+1),m(e,t,r,a+1,i,o+1)}}function v(e,t,r,n,i,o){for(;i>n;){if(i-n>600){var a=i-n+1,s=r-n+1,u=Math.log(a),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(a-c)/a)*(s-a/2<0?-1:1);v(e,t,r,Math.max(n,Math.floor(r-s*c/a+l)),Math.min(i,Math.floor(r+(a-s)*c/a+l)),o)}var p=t[2*r+o],h=n,d=i;for(g(e,t,n,r),t[2*i+o]>p&&g(e,t,n,i);h<d;){for(g(e,t,h,d),h++,d--;t[2*h+o]<p;)h++;for(;t[2*d+o]>p;)d--}t[2*n+o]===p?g(e,t,n,d):g(e,t,++d,i),d<=r&&(n=d+1),r<=d&&(i=d-1)}}function g(e,t,r,n){k(e,r,n),k(t,2*r,2*n),k(t,2*r+1,2*n+1)}function k(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n){var i=e-r,o=t-n;return i*i+o*o}var Z,w=function(e){return e[0]},M=function(e){return e[1]},x=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;(0,a.Z)(this,e),this.nodeSize=i,this.points=t;for(var s=t.length<65536?Uint16Array:Uint32Array,u=this.ids=new s(t.length),c=this.coords=new o(2*t.length),l=0;l<t.length;l++)u[l]=l,c[2*l]=r(t[l]),c[2*l+1]=n(t[l]);m(u,c,i,0,u.length-1,0)}return(0,s.Z)(e,[{key:"range",value:function(e,t,r,n){return function(e,t,r,n,i,o,a){for(var s,u,c=[0,e.length-1,0],l=[];c.length;){var p=c.pop(),h=c.pop(),d=c.pop();if(h-d<=a)for(var f=d;f<=h;f++)s=t[2*f],u=t[2*f+1],s>=r&&s<=i&&u>=n&&u<=o&&l.push(e[f]);else{var m=Math.floor((d+h)/2);s=t[2*m],u=t[2*m+1],s>=r&&s<=i&&u>=n&&u<=o&&l.push(e[m]);var v=(p+1)%2;(0===p?r<=s:n<=u)&&(c.push(d),c.push(m-1),c.push(v)),(0===p?i>=s:o>=u)&&(c.push(m+1),c.push(h),c.push(v))}}return l}(this.ids,this.coords,e,t,r,n,this.nodeSize)}},{key:"within",value:function(e,t,r){return function(e,t,r,n,i,o){for(var a=[0,e.length-1,0],s=[],u=i*i;a.length;){var c=a.pop(),l=a.pop(),p=a.pop();if(l-p<=o)for(var h=p;h<=l;h++)y(t[2*h],t[2*h+1],r,n)<=u&&s.push(e[h]);else{var d=Math.floor((p+l)/2),f=t[2*d],m=t[2*d+1];y(f,m,r,n)<=u&&s.push(e[d]);var v=(c+1)%2;(0===c?r-i<=f:n-i<=m)&&(a.push(p),a.push(d-1),a.push(v)),(0===c?r+i>=f:n+i>=m)&&(a.push(d+1),a.push(l),a.push(v))}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)}}]),e}(),b={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},C=Math.fround||(Z=new Float32Array(1),function(e){return Z[0]=+e,Z[0]}),L=function(){function e(t){(0,a.Z)(this,e),this.options=T(Object.create(b),t),this.trees=new Array(this.options.maxZoom+1)}return(0,s.Z)(e,[{key:"load",value:function(e){var t=this.options,r=t.log,n=t.minZoom,i=t.maxZoom,o=t.nodeSize;r&&console.time("total time");var a="prepare ".concat(e.length," points");r&&console.time(a),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(P(e[u],u));this.trees[i+1]=new x(s,A,j,o,Float32Array),r&&console.timeEnd(a);for(var c=i;c>=n;c--){var l=+Date.now();s=this._cluster(s,c),this.trees[c]=new x(s,A,j,o,Float32Array),r&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-l)}return r&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var s=this.getClusters([r,n,180,a],t),u=this.getClusters([-180,n,i,a],t);return s.concat(u)}var c,l=this.trees[this._limitZoom(t)],p=l.range(O(r),z(a),O(i),z(n)),h=[],d=(0,o.Z)(p);try{for(d.s();!(c=d.n()).done;){var f=c.value,m=l.points[f];h.push(m.numPoints?_(m):this.points[m.index])}}catch(v){d.e(v)}finally{d.f()}return h}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);var a=i.points[t];if(!a)throw new Error(n);var s,u=this.options.radius/(this.options.extent*Math.pow(2,r-1)),c=i.within(a.x,a.y,u),l=[],p=(0,o.Z)(c);try{for(p.s();!(s=p.n()).done;){var h=s.value,d=i.points[h];d.parentId===e&&l.push(d.numPoints?_(d):this.points[d.index])}}catch(f){p.e(f)}finally{p.f()}if(0===l.length)throw new Error(n);return l}},{key:"getLeaves",value:function(e,t,r){t=t||10,r=r||0;var n=[];return this._appendLeaves(n,e,t,r,0),n}},{key:"getTile",value:function(e,t,r){var n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.extent,s=o.radius/a,u=(r-s)/i,c=(r+1+s)/i,l={features:[]};return this._addTileFeatures(n.range((t-s)/i,u,(t+1+s)/i,c),n.points,t,r,i,l),0===t&&this._addTileFeatures(n.range(1-s/i,u,1,c),n.points,i,r,i,l),t===i-1&&this._addTileFeatures(n.range(0,u,s/i,c),n.points,-1,r,i,l),l.features.length?l:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,r,n,i){var a,s=this.getChildren(t),u=(0,o.Z)(s);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=c.properties;if(l&&l.cluster?i+l.point_count<=n?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,r,n,i):i<n?i++:e.push(c),e.length===r)break}}catch(p){u.e(p)}finally{u.f()}return i}},{key:"_addTileFeatures",value:function(e,t,r,n,i,a){var s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var c=t[s.value],l=c.numPoints,p=void 0,h=void 0,d=void 0;if(l)p=E(c),h=c.x,d=c.y;else{var f=this.points[c.index];p=f.properties,h=O(f.geometry.coordinates[0]),d=z(f.geometry.coordinates[1])}var m={type:1,geometry:[[Math.round(this.options.extent*(h*i-r)),Math.round(this.options.extent*(d*i-n))]],tags:p},v=void 0;l?v=c.id:this.options.generateId?v=c.index:this.points[c.index].id&&(v=this.points[c.index].id),void 0!==v&&(m.id=v),a.features.push(m)}}catch(g){u.e(g)}finally{u.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var r=[],n=this.options,i=n.radius,a=n.extent,s=n.reduce,u=n.minPoints,c=i/(a*Math.pow(2,t)),l=0;l<e.length;l++){var p=e[l];if(!(p.zoom<=t)){p.zoom=t;var h,d=this.trees[t+1],f=d.within(p.x,p.y,c),m=p.numPoints||1,v=m,g=(0,o.Z)(f);try{for(g.s();!(h=g.n()).done;){var k=h.value,y=d.points[k];y.zoom>t&&(v+=y.numPoints||1)}}catch(T){g.e(T)}finally{g.f()}if(v>m&&v>=u){var Z,w=p.x*m,M=p.y*m,x=s&&m>1?this._map(p,!0):null,b=(l<<5)+(t+1)+this.points.length,C=(0,o.Z)(f);try{for(C.s();!(Z=C.n()).done;){var L=Z.value,P=d.points[L];if(!(P.zoom<=t)){P.zoom=t;var _=P.numPoints||1;w+=P.x*_,M+=P.y*_,P.parentId=b,s&&(x||(x=this._map(p,!0)),s(x,this._map(P)))}}}catch(T){C.e(T)}finally{C.f()}p.parentId=b,r.push(I(w/v,M/v,b,v,x))}else if(r.push(p),v>1){var E,O=(0,o.Z)(f);try{for(O.s();!(E=O.n()).done;){var z=E.value,S=d.points[z];S.zoom<=t||(S.zoom=t,r.push(S))}}catch(T){O.e(T)}finally{O.f()}}}}return r}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?T({},e.properties):e.properties;var r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?T({},n):n}}]),e}();function I(e,t,r,n,i){return{x:C(e),y:C(t),zoom:1/0,id:r,parentId:-1,numPoints:n,properties:i}}function P(e,t){var r=(0,p.Z)(e.geometry.coordinates,2),n=r[0],i=r[1];return{x:C(O(n)),y:C(z(i)),zoom:1/0,index:t,parentId:-1}}function _(e){return{type:"Feature",id:e.id,properties:E(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),S(e.y)]}};var t}function E(e){var t=e.numPoints,r=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?"".concat(Math.round(t/100)/10,"k"):t;return T(T({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function O(e){return e/360+.5}function z(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function S(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function T(e,t){for(var r in t)e[r]=t[r];return e}function A(e){return e.x}function j(e){return e.y}function B(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}var F=function(){function e(t){var r=t.markers,n=t.position;(0,a.Z)(this,e),this.markers=r,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}return(0,s.Z)(e,[{key:"bounds",get:function(){if(0!==this.markers.length||this._position)return this.markers.reduce((function(e,t){return e.extend(t.getPosition())}),new google.maps.LatLngBounds(this._position,this._position))}},{key:"position",get:function(){return this._position||this.bounds.getCenter()}},{key:"count",get:function(){return this.markers.filter((function(e){return e.getVisible()})).length}},{key:"push",value:function(e){this.markers.push(e)}},{key:"delete",value:function(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}]),e}(),G=function(){function e(t){var r=t.maxZoom,n=void 0===r?16:r;(0,a.Z)(this,e),this.maxZoom=n}return(0,s.Z)(e,[{key:"noop",value:function(e){var t=e.markers;return N(t)}}]),e}(),N=function(e){return e.map((function(e){return new F({position:e.getPosition(),markers:[e]})}))},R=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;(0,a.Z)(this,r);var i=e.maxZoom,o=e.radius,s=void 0===o?60:o,u=B(e,["maxZoom","radius"]);return(n=t.call(this,{maxZoom:i})).superCluster=new L(Object.assign({maxZoom:n.maxZoom,radius:s},u)),n.state={zoom:null},n}return(0,s.Z)(r,[{key:"calculate",value:function(e){var t=!1;if(!f()(e.markers,this.markers)){t=!0,this.markers=(0,h.Z)(e.markers);var r=this.markers.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.getPosition().lng(),e.getPosition().lat()]},properties:{marker:e}}}));this.superCluster.load(r)}var n={zoom:e.map.getZoom()};return t||this.state.zoom>this.maxZoom&&n.zoom>this.maxZoom||(t=t||!f()(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}},{key:"cluster",value:function(e){var t=e.map;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(this.transformCluster.bind(this))}},{key:"transformCluster",value:function(e){var t=(0,p.Z)(e.geometry.coordinates,2),r=t[0],n=t[1],i=e.properties;if(i.cluster)return new F({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map((function(e){return e.properties.marker})),position:new google.maps.LatLng({lat:n,lng:r})});var o=i.marker;return new F({markers:[o],position:o.getPosition()})}}]),r}(G),U=(0,s.Z)((function e(t,r){(0,a.Z)(this,e),this.markers={sum:t.length};var n=r.map((function(e){return e.count})),i=n.reduce((function(e,t){return e+t}),0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min.apply(Math,(0,h.Z)(n)),max:Math.max.apply(Math,(0,h.Z)(n))}}})),D=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,[{key:"render",value:function(e,t){var r=e.count,n=e.position,i=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",o=window.btoa('\n  <svg fill="'.concat(i,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">\n    <circle cx="120" cy="120" opacity=".6" r="70" />\n    <circle cx="120" cy="120" opacity=".3" r="90" />\n    <circle cx="120" cy="120" opacity=".2" r="110" />\n  </svg>'));return new google.maps.Marker({position:n,icon:{url:"data:image/svg+xml;base64,".concat(o),scaledSize:new google.maps.Size(45,45)},label:{text:String(r),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:"Cluster of ".concat(r," markers"),zIndex:Number(google.maps.Marker.MAX_ZINDEX)+r})}}]),e}();var H,K=(0,s.Z)((function e(){(0,a.Z)(this,e),function(e,t){for(var r in t.prototype)e.prototype[r]=t.prototype[r]}(e,google.maps.OverlayView)}));!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(H||(H={}));var W=function(e,t,r){r.fitBounds(t.bounds)},V=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n,i=e.map,o=e.markers,s=void 0===o?[]:o,u=e.algorithm,c=void 0===u?new R({}):u,l=e.renderer,p=void 0===l?new D:l,d=e.onClusterClick,f=void 0===d?W:d;return(0,a.Z)(this,r),(n=t.call(this)).markers=(0,h.Z)(s),n.clusters=[],n.algorithm=c,n.renderer=p,n.onClusterClick=f,i&&n.setMap(i),n}return(0,s.Z)(r,[{key:"addMarker",value:function(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}},{key:"addMarkers",value:function(e,t){var r=this;e.forEach((function(e){r.addMarker(e,!0)})),t||this.render()}},{key:"removeMarker",value:function(e,t){var r=this.markers.indexOf(e);return-1!==r&&(e.setMap(null),this.markers.splice(r,1),t||this.render(),!0)}},{key:"removeMarkers",value:function(e,t){var r=this,n=!1;return e.forEach((function(e){n=r.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}},{key:"clearMarkers",value:function(e){this.markers.length=0,e||this.render()}},{key:"render",value:function(){var e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,H.CLUSTERING_BEGIN,this);var t=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()}),r=t.clusters,n=t.changed;(n||void 0==n)&&(this.reset(),this.clusters=r,this.renderClusters()),google.maps.event.trigger(this,H.CLUSTERING_END,this)}}},{key:"onAdd",value:function(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}},{key:"onRemove",value:function(){google.maps.event.removeListener(this.idleListener),this.reset()}},{key:"reset",value:function(){this.markers.forEach((function(e){return e.setMap(null)})),this.clusters.forEach((function(e){return e.delete()})),this.clusters=[]}},{key:"renderClusters",value:function(){var e=this,t=new U(this.markers,this.clusters),r=this.getMap();this.clusters.forEach((function(n){1===n.markers.length?n.marker=n.markers[0]:(n.marker=e.renderer.render(n,t),e.onClusterClick&&n.marker.addListener("click",(function(t){google.maps.event.trigger(e,H.CLUSTER_CLICK,n),e.onClusterClick(t,n,r)}))),n.marker.setMap(r)}))}}]),r}(K),X=function(e){(0,u.Z)(l,e);var t=(0,c.Z)(l);function l(){var e;return(0,a.Z)(this,l),(e=t.apply(this,arguments)).gMapsRef=void 0,e.maps={},e.currMarkerId=0,e.onClusterClickHandler=function(t,r,n){var i,a,s=e.getIdFromMap(n),u=[];if(void 0!=r.markers){var c,l=(0,o.Z)(r.markers);try{for(l.s();!(c=l.n()).done;){var p=c.value,h=e.getIdFromMarker(s,p);u.push({markerId:h,latitude:null===(i=p.getPosition())||void 0===i?void 0:i.lat(),longitude:null===(a=p.getPosition())||void 0===a?void 0:a.lng(),title:p.getTitle(),snippet:""})}}catch(d){l.e(d)}finally{l.f()}}e.notifyListeners("onClusterClick",{mapId:s,latitude:r.position.lat(),longitude:r.position.lng(),size:r.count,items:u})},e}return(0,s.Z)(l,[{key:"getIdFromMap",value:function(e){for(var t in this.maps)if(this.maps[t].map==e)return t;return""}},{key:"getIdFromMarker",value:function(e,t){for(var r in this.maps[e].markers)if(this.maps[e].markers[r]==t)return r;return""}},{key:"importGoogleLib",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var i,o,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.gMapsRef){e.next=10;break}return e.next=3,r.e(5614).then(r.bind(r,5614));case 3:return i=e.sent,o=new i.Loader({apiKey:null!==t&&void 0!==t?t:"",version:"weekly",libraries:["places"]}),e.next=7,o.load();case 7:a=e.sent,this.gMapsRef=a.maps,console.log("Loaded google maps API");case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setCamera",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.maps[t.id].map.moveCamera({center:t.config.coordinate,heading:t.config.bearing,tilt:t.config.angle,zoom:t.config.zoom});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setMapType",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.maps[t.id].map.setMapTypeId(t.mapType);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"enableIndoorMaps",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not supported on web.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"enableTrafficLayer",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null!==(r=this.maps[t.id].trafficLayer)&&void 0!==r?r:new google.maps.TrafficLayer,t.enabled?(i.setMap(this.maps[t.id].map),this.maps[t.id].trafficLayer=i):this.maps[t.id].trafficLayer&&(i.setMap(null),this.maps[t.id].trafficLayer=void 0);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"enableAccessibilityElements",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not supported on web.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"dispatchMapEvent",value:function(e){throw new Error("Method not supported on web.")}},{key:"enableCurrentLocation",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.enabled){e.next=6;break}if(!navigator.geolocation){e.next=5;break}navigator.geolocation.getCurrentPosition((function(e){var n={lat:e.coords.latitude,lng:e.coords.longitude};r.maps[t.id].map.setCenter(n),r.notifyListeners("onMyLocationButtonClick",{}),r.notifyListeners("onMyLocationClick",{})}),(function(){throw new Error("Geolocation not supported on web browser.")})),e.next=6;break;case 5:throw new Error("Geolocation not supported on web browser.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPadding",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==(r=this.maps[t.id].map.getBounds())&&this.maps[t.id].map.fitBounds(r,t.padding);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMapBounds",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.maps[t.id].map.getBounds()){e.next=3;break}throw new Error("Google Map Bounds could not be found.");case 3:return e.abrupt("return",{southwest:{lat:r.getSouthWest().lat(),lng:r.getSouthWest().lng()},center:{lat:r.getCenter().lat(),lng:r.getCenter().lng()},northeast:{lat:r.getNorthEast().lat(),lng:r.getNorthEast().lng()}});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addMarkers",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,s,u,c,l,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=this.maps[t.id],a=(0,o.Z)(t.markers);try{for(a.s();!(s=a.n()).done;)u=s.value,c=this.buildMarkerOpts(u,i.map),l=new google.maps.Marker(c),p=""+this.currMarkerId,i.markers[p]=l,this.setMarkerListeners(t.id,p,l),r.push(p),this.currMarkerId++}catch(n){a.e(n)}finally{a.f()}return e.abrupt("return",{ids:r});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addMarker",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.buildMarkerOpts(t.marker,this.maps[t.id].map),console.log(r),i=new google.maps.Marker(r),o=""+this.currMarkerId,this.maps[t.id].markers[o]=i,this.setMarkerListeners(t.id,o,i),this.currMarkerId++,e.abrupt("return",{id:o});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeMarkers",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.maps[t.id],i=(0,o.Z)(t.markerIds);try{for(i.s();!(a=i.n()).done;)s=a.value,r.markers[s].setMap(null),delete r.markers[s]}catch(n){i.e(n)}finally{i.f()}case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeMarker",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.maps[t.id].markers[t.markerId].setMap(null),delete this.maps[t.id].markers[t.markerId];case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"enableClustering",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in r=[],this.maps[t.id].markers)r.push(this.maps[t.id].markers[i]);this.maps[t.id].markerClusterer=new V({map:this.maps[t.id].map,markers:r,onClusterClick:this.onClusterClickHandler});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disableClustering",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(r=this.maps[t.id].markerClusterer)||void 0===r||r.setMap(null),this.maps[t.id].markerClusterer=void 0;case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onScroll",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not supported on web.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Create map: ".concat(t.id)),e.next=3,this.importGoogleLib(t.apiKey);case 3:this.maps[t.id]={map:new window.google.maps.Map(t.element,Object.assign({},t.config)),element:t.element,markers:{}},this.setMapListeners(t.id);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Destroy map: ".concat(t.id)),(r=this.maps[t.id]).element.innerHTML="",r.map.unbindAll(),delete this.maps[t.id];case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setMarkerListeners",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r,i){var o=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.addListener("click",(function(){var e,n;o.notifyListeners("onMarkerClick",{mapId:t,markerId:r,latitude:null===(e=i.getPosition())||void 0===e?void 0:e.lat(),longitude:null===(n=i.getPosition())||void 0===n?void 0:n.lng(),title:i.getTitle(),snippet:""})})),i.addListener("dragstart",(function(){var e,n;o.notifyListeners("onMarkerDragStart",{mapId:t,markerId:r,latitude:null===(e=i.getPosition())||void 0===e?void 0:e.lat(),longitude:null===(n=i.getPosition())||void 0===n?void 0:n.lng(),title:i.getTitle(),snippet:""})})),i.addListener("drag",(function(){var e,n;o.notifyListeners("onMarkerDrag",{mapId:t,markerId:r,latitude:null===(e=i.getPosition())||void 0===e?void 0:e.lat(),longitude:null===(n=i.getPosition())||void 0===n?void 0:n.lng(),title:i.getTitle(),snippet:""})})),i.addListener("dragend",(function(){var e,n;o.notifyListeners("onMarkerDragEnd",{mapId:t,markerId:r,latitude:null===(e=i.getPosition())||void 0===e?void 0:e.lat(),longitude:null===(n=i.getPosition())||void 0===n?void 0:n.lng(),title:i.getTitle(),snippet:""})}));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setMapListeners",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,o=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=this.maps[t].map).addListener("idle",(0,i.Z)((0,n.Z)().mark((function e(){var i,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getMapBounds({id:t});case 2:s=e.sent,o.notifyListeners("onCameraIdle",{mapId:t,bearing:r.getHeading(),bounds:s,latitude:null===(i=r.getCenter())||void 0===i?void 0:i.lat(),longitude:null===(a=r.getCenter())||void 0===a?void 0:a.lng(),tilt:r.getTilt(),zoom:r.getZoom()});case 4:case"end":return e.stop()}}),e)})))),r.addListener("center_changed",(function(){o.notifyListeners("onCameraMoveStarted",{mapId:t,isGesture:!0})})),r.addListener("bounds_changed",(0,i.Z)((0,n.Z)().mark((function e(){var i,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getMapBounds({id:t});case 2:s=e.sent,o.notifyListeners("onBoundsChanged",{mapId:t,bearing:r.getHeading(),bounds:s,latitude:null===(i=r.getCenter())||void 0===i?void 0:i.lat(),longitude:null===(a=r.getCenter())||void 0===a?void 0:a.lng(),tilt:r.getTilt(),zoom:r.getZoom()});case 4:case"end":return e.stop()}}),e)})))),r.addListener("click",(function(e){var r,n;o.notifyListeners("onMapClick",{mapId:t,latitude:null===(r=e.latLng)||void 0===r?void 0:r.lat(),longitude:null===(n=e.latLng)||void 0===n?void 0:n.lng()})})),this.notifyListeners("onMapReady",{mapId:t});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"buildMarkerOpts",value:function(e,t){var r=void 0;return e.iconUrl&&(r={url:e.iconUrl,scaledSize:e.iconSize?new google.maps.Size(e.iconSize.width,e.iconSize.height):null,anchor:e.iconAnchor?new google.maps.Point(e.iconAnchor.x,e.iconAnchor.y):new google.maps.Point(0,0),origin:e.iconOrigin?new google.maps.Point(e.iconOrigin.x,e.iconOrigin.y):new google.maps.Point(0,0)}),{position:e.coordinate,map:t,opacity:e.opacity,title:e.title,icon:r,draggable:e.draggable}}}]),l}(l.Uw)},8262:function(e){e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}}}]);
//# sourceMappingURL=8140.90030004.chunk.js.map